<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <title>Home</title>
</head>
<body style="background-image: url('images/<%= locals.photo %>'); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">
    <%- include('../partials/header.ejs') %>


    <!-- Current and Hourly Wheather Info -->
    <div class="container col-xxl-8 px-4 py-1" bis_skin_checked="1">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5" bis_skin_checked="1">
            <div class="col-3" bis_skin_checked="1">

                <!--Hourly Weather -->
                <div class="my-3 p-3 bg-body rounded shadow-sm" bis_skin_checked="1">
                    <h6 class="border-bottom pb-2 mb-0">Hourly</h6>
                    <% locals.hourly.forEach(hour => { %>
                        <div class="d-flex text-body-secondary pt-3 border-bottom" bis_skin_checked="1">
                            <img src="images/<%= hour[2] %>"
                                height="50" 
                                class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-3 rounded">
                            </img>
                            <p class="pb-3 mb-0 small lh-sm pt-2">
                                <strong class="d-block text-gray-dark"><%= hour[0] %></strong> <%= hour[1] %>°C
                            </p>
                        </div>
                    <% }) %>
                </div>
            </div>

            <!-- Current Weather -->
            <div class="col-9 bg-body rounded shadow-sm border" bis_skin_checked="1" style="opacity: 0.7;">
                <div class="d-flex border-bottom pb-2 pt-2">
                    <p class="large lh-sm">
                        <strong class="d-block text-gray-dark" style="font-size: 2rem;"><%= locals.name %>, <%= locals.temp %>°C</strong>
                    </p>
                </div>

                <div class="d-flex justify-content-center mb-3">
                    <img src="images/<%= locals.icon %>" alt="Weather Icon" height="340px">
                </div>
                
                <div class="d-flex justify-content-between pt-1 px-1 border-top">
                    <div class="d-flex py-2">
                        <svg xmlns="http://www.w3.org/2000/svg" 
                            width="50" height="50" 
                            fill="currentColor" 
                            class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-3 rounded" 
                            viewBox="0 0 16 16">
                            <path d="M13.5 0a.5.5 0 0 0 0 1H15v2.75h-.5a.5.5 0 0 0 0 1h.5V7.5h-1.5a.5.5 0 0 0 0 1H15v2.75h-.5a.5.5 0 0 0 0 1h.5V15h-1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 .5-.5V.5a.5.5 0 0 0-.5-.5zM7 1.5l.364-.343a.5.5 0 0 0-.728 0l-.002.002-.006.007-.022.023-.08.088a29 29 0 0 0-1.274 1.517c-.769.983-1.714 2.325-2.385 3.727C2.368 7.564 2 8.682 2 9.733 2 12.614 4.212 15 7 15s5-2.386 5-5.267c0-1.05-.368-2.169-.867-3.212-.671-1.402-1.616-2.744-2.385-3.727a29 29 0 0 0-1.354-1.605l-.022-.023-.006-.007-.002-.001zm0 0-.364-.343zm-.016.766L7 2.247l.016.019c.24.274.572.667.944 1.144.611.781 1.32 1.776 1.901 2.827H4.14c.58-1.051 1.29-2.046 1.9-2.827.373-.477.706-.87.945-1.144zM3 9.733c0-.755.244-1.612.638-2.496h6.724c.395.884.638 1.741.638 2.496C11 12.117 9.182 14 7 14s-4-1.883-4-4.267"/>
                        </svg>
                        <p class="pb-3 mb-0 medium lh-sm pt-1">
                            <strong class="d-block text-gray-dark">Humidity</strong> <%= locals.humidity %> %
                        </p>
                    </div>

                    <div class="d-flex py-2">
                        <svg xmlns="http://www.w3.org/2000/svg" 
                            width="50" height="50" 
                            fill="currentColor" 
                            class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-3 rounded" 
                            viewBox="0 0 16 16">
                            <path d="M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"/>
                        </svg>
                        <p class="pb-3 mb-0 medium lh-sm pt-1">
                            <strong class="d-block text-gray-dark">Wind</strong> <%= locals.wind %> km/h
                        </p>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    


    <!-- Daily Info -->
    <div class="p-3 bg-body rounded shadow-sm container col-8 border px-4" bis_skin_checked="1">
        <% locals.daily.forEach(day => { %>
            <div class="d-flex text-body-secondary border-bottom justify-content-between" bis_skin_checked="1">
                <div style="width: 40px;">
                    <p class="pb-3 mb-0 small lh-sm pt-1">
                        <strong class="d-block text-gray-dark"><%= day[1] %></strong> <%= day[0] %>
                    </p>
                </div>

                <div class="d-flex" style="width: 40px;">
                    <img src="images/<%= day[5] %>"
                        height="40" 
                        class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-1 rounded">
                    </img>
                    <p class="pb-3 mb-0 small lh-sm pt-1">
                        <strong class="d-block text-gray-dark"><%= day[3] %></strong> <%= day[2] %>
                    </p>
                </div>

                <div class="d-flex" style="width: 40px;">
                    <svg xmlns="http://www.w3.org/2000/svg" 
                        width="25" height="40" 
                        fill="black" 
                        class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-1 rounded" 
                        viewBox="0 0 16 16">
                    <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278"/>                </svg>
                    <p class="pb-3 mb-0 small lh-sm pt-1">
                        <strong class="d-block text-gray-dark"><%= day[3] %></strong> <%= day[4] %>
                    </p>
                </div>

                <div class="d-flex">
                    <svg xmlns="http://www.w3.org/2000/svg" 
                        width="25" height="40" 
                        fill="black" 
                        class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-1 rounded" 
                        viewBox="0 0 16 16">
                        <path d="M13.5 0a.5.5 0 0 0 0 1H15v2.75h-.5a.5.5 0 0 0 0 1h.5V7.5h-1.5a.5.5 0 0 0 0 1H15v2.75h-.5a.5.5 0 0 0 0 1h.5V15h-1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 .5-.5V.5a.5.5 0 0 0-.5-.5zM7 1.5l.364-.343a.5.5 0 0 0-.728 0l-.002.002-.006.007-.022.023-.08.088a29 29 0 0 0-1.274 1.517c-.769.983-1.714 2.325-2.385 3.727C2.368 7.564 2 8.682 2 9.733 2 12.614 4.212 15 7 15s5-2.386 5-5.267c0-1.05-.368-2.169-.867-3.212-.671-1.402-1.616-2.744-2.385-3.727a29 29 0 0 0-1.354-1.605l-.022-.023-.006-.007-.002-.001zm0 0-.364-.343zm-.016.766L7 2.247l.016.019c.24.274.572.667.944 1.144.611.781 1.32 1.776 1.901 2.827H4.14c.58-1.051 1.29-2.046 1.9-2.827.373-.477.706-.87.945-1.144zM3 9.733c0-.755.244-1.612.638-2.496h6.724c.395.884.638 1.741.638 2.496C11 12.117 9.182 14 7 14s-4-1.883-4-4.267"/>
                    </svg>
                    <p class="pb-3 mb-0 small lh-sm pt-1">
                        <strong class="d-block text-gray-dark">Humidity</strong> <%= day[7] %>°C
                    </p>
                </div>

                <div class="d-flex">
                    <svg xmlns="http://www.w3.org/2000/svg" 
                        width="25" height="40" 
                        fill="black" 
                        class="bi bi-brightness-low-fill bd-placeholder-img flex-shrink-0 me-1 rounded" 
                        viewBox="0 0 16 16">
                        <path d="M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"/>
                    </svg>
                    <p class="pb-3 mb-0 small lh-sm pt-1">
                        <strong class="d-block text-gray-dark">Wind</strong> <%= day[6] %> km/h
                    </p>
                </div>
            </div>
        <% }) %>
        
    </div>
    

    

    <%- include('../partials/footer.ejs') %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <script>
        const button = document.getElementById("current");
        button.addEventListener("click", (event) => {
            try {
                navigator.geolocation.getCurrentPosition((position) => {
                    let lat = position.coords.latitude;
                    let long = position.coords.longitude;

                    window.location.href = `/current?lat=${lat}&long=${long}`;
                });
            } catch (error) {
                console.error("Error getting location:", error.message);
            }
        });
    </script>
</body>
</html>